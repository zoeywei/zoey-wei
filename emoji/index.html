<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>基于jQuery开发的全能表单验证插件</title>
		<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
		<style>		
			.qqFace {
				margin-top: 4px;
				background: #fff;
				padding: 2px;
				border: 1px #dfe6f6 solid;
			}
			
			.qqFace table td {
				padding: 0px;
			}
			
			.qqFace table td img {
				cursor: pointer;
				border: 1px #fff solid;
			}
			
			.qqFace table td img:hover {
				border: 1px #0066cc solid;
			}	
			#textarea{
				height: 20px;
				border: 1px solid #0044CC;
			}
		</style>
	</head>

	<body>
		<div id="show"></div>
		<div class="comment">
			<div class="com_form">
				<div class="input" id="textarea" name="textarea"></div>
				<p><input type="button" class="sub_btn" value="提交"><span class="emotion">表情</span></p>
			</div>
		</div>

	</body>

	
	<script type="text/javascript" src="js/jquery-browser.js"></script>
	<script type="text/javascript" src="js/jquery.qqFace.js"></script>

	<script type="text/javascript">
		$(function() {
			$('.emotion').qqFace({
				id: 'facebox',
				assign: 'textarea',
				path: 'arclist/' //表情存放的路径
			});
			$(".sub_btn").click(function() {
				var str = $("#textarea").val();
				$("#show").html(replace_em(str));
			});
		});
		//查看结果
		function replace_em(str) {
			str = str.replace(/\</g, '&lt;');
			str = str.replace(/\>/g, '&gt;');
			str = str.replace(/\n/g, '<br/>');
			str = str.replace(/\[em_([0-9]*)\]/g, '<img src="arclist/$1.gif" border="0" />');
			return str;
		}
	</script>

</html>